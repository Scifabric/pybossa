{% macro render_field(field, addon, prepend) %}
    <div class="control-group {% if field.errors %} error {% endif %}">
        {{ field.label(class="control-label") }}
        <div class="controls">
            {% if addon %}
            <div class="{% if prepend %}input-prepend{%else%}input-append{%endif%}">
                {% if prepend %}
                <span class="add-on">{{addon|safe}}</span>
                {{field(**kwargs)}}
                {% else %}
                {{field(**kwargs)}}
                <span class="add-on">{{addon|safe}}</span>
                {% endif %}
            </div>
            {% else %}
                {{field(**kwargs)}}
                {% endif %}
            {% if field.errors %}
                {% for error in field.errors %}
                <span class="help-inline">{{ error }}</span>
                {% endfor %}
            {% endif %}
        </div>
    </div>
{% endmacro %}
